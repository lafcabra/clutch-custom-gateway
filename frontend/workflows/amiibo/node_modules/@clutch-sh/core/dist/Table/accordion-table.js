import * as React from "react";
import { IconButton as MuiIconButton, TableRow } from "@material-ui/core";
import ChevronRightIcon from "@material-ui/icons/ChevronRight";
import KeyboardArrowDownIcon from "@material-ui/icons/KeyboardArrowDown";
import styled from "../styled";
import { TableCell } from "./table";
const IconButton = styled(MuiIconButton)({
    padding: "0",
    color: "#0D1030",
});
const ChevronRight = styled(ChevronRightIcon)(props => ({
    color: (props === null || props === void 0 ? void 0 : props.$disabled) ? "#E7E7EA" : "unset",
}));
export const AccordionRow = ({ columns, children }) => {
    const [open, setOpen] = React.useState(false);
    const hasChildren = React.Children.count(children) !== 0;
    const onClick = () => {
        if (hasChildren) {
            setOpen(isOpen => !isOpen);
        }
    };
    return (React.createElement(React.Fragment, null,
        React.createElement(TableRow, null, columns.map((heading, index) => {
            const icon = (React.createElement(IconButton, { onClick: onClick }, open ? React.createElement(KeyboardArrowDownIcon, null) : React.createElement(ChevronRight, { "$disabled": !hasChildren })));
            return (React.createElement(TableCell, { key: heading, border: true, style: index === 0 ? { display: "flex" } : {} },
                index === 0 && icon,
                React.createElement("div", { style: { alignSelf: "center" } }, heading)));
        })),
        open && children));
};
